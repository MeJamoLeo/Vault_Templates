---

mindmap-plugin: basic

---

# 物件王の物件の新規登録・更新を自動化する

## ✅新着の物件情報を取得する

## 新着の物件情報入力する
- 既存の物件情報を取得する
	- 物件王上での検索条件を定義する
	- Sub title
		- [!note]- 重複チェックの懸念点
		重複チェックの機能は使ったことありますが、活用はしていません!
		判断基準が住所と㎡数のみなので、以下も重複認識されてしまうからです。
- 新着の物件情報から『更新』か『新規登録』かを判断する
	- ここはAIの余地あり<br>(絡んでくる要因が多くて不正確)
		- 例
			- `住所`: 番地が存在している場合としない場合がある
			- `土地の大きさ`: 業者によって測定結果にブレがある
			- `建物の大きさ`: 業者によって測定結果にブレがある
			- `接道の向き`: 方角がただ単に「北」なのか、詳しく「北北東」のような表記か
- 入力が必要かどうかを判断する
	- 入力が必要ない場合
	- 入力が必要な場合
		- 『更新』の場合
			- 全体のデータの差分を取得する
			- 必要な部分のデータを埋める
		- 『新規登録』の場合
			- CSVで物件王にデータを登録するか？
			- フォーム（新規物件登録）で物件王にデータを登録するか？

## データ取得
- データ収集
	- 早耳
	- レインズIP
		- ✅ オブジェクトを設計する
			- 物件詳細からデータをオブジェクトで取得
		- ✅オブジェクトを作成するJavaScriptを作成する

## 重複チェック
- 重複基準定義
	- 最初の絞り込みをどのように行うか？
		- 例）所在地1までを使う
		- 暫定の項目
			- 都道府県
			- 市町村
			- 所在地1
			- 土地面積
				- 1％とする（仮の数字）
- AIによる類似性判定
	- 『更新』、『新規登録』の判断をする
- 例外処理

## データ入力／更新
- 入力判定
- ◻️自動入力処理
	- 『更新』
	- ◻️『新規登録』
	- ◻️共通
		- 基本・交通
			- レインズ番号
			- 元付け管理番号
			- 店舗名
			- 種目
			- 物件名
			- セールスポイント
			- 物件詳細説明
			- 担当
			- 交通🔸
				- 1
				- 2
				- 3
			- その他交通
				- 1
				- 2
			- 郵便番号
			- 市町村🔸
			- 所在地1🔸
			- 所在地2
			- 所在番地
			- 号地
			- 小学校区🔸
			- 中学校区🔸
		- 価格・土地・建物
			- 価格
			- 最終取引価格
			- 土地面積
			- 坪単価
			- 方位🔸
			- 地勢🔸
			- 道路🔸
			- 私道負担🔹
			- 面積
			- 指導負担備考
			- 建築条件🔸
			- 建築条件付きの文言
			- 地目🔸
			- 都市計画🔸
			- 建ぺい率🔸
			- 容積率🔸
			- 用途地域🔸
			- 販売区画数
			- 総区画数
			- 土地権利🔸
			- 借地料
			- 借地期間
			- 期日指定
			- 定借設定登記🔹
			- 定借賃料改定時期🔹
			- 定借賃料会定額🔹
			- 定借譲渡
			- 承諾🔸
			- 承諾料🔸
			- 承諾者🔸
		- 条件・設備
			- ガス🔹
			- 上水道🔹
			- 下水道🔹
			- 設備・条件◆
			- その他
			- 現況🔸
			- 明渡🔸
			- 最適用途コード🔸
		- `取引情報` 少々だるすぎる
			- 物件所有種別
				- 未設定
				- 自社預かり
				- 他社預かり
				- 自社売主
				- 他社売主
			- 自社の取引形態
		- 備考
		- 画像
		- 公開設定
	- ◻️ユーティリティ
		- 🔸ドロップダウン選択カスタムアクション
			- DOMを選択する
			- inputに1文字を入力する
			- オプションの数を数える
			- オプションの数が
				- 0ならエラー
				- 1なら選択
				- 複数ある場合は繰り返す
		- 🔹ラジオボタン選択カスタムアクション
		- ◆チェックボックスカスタムアクション
- エラーチェック・通知
	- エラーチェック・通知
		- 人に入力を任せるものを教える